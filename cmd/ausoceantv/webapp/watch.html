<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/src/assets/favicon2.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AusOceanTV | Watch</title>
    <link rel="stylesheet" href="./src/index.css" />
    <script type="module" src="src/web-components/authenticator.ts"></script>
    <script type="module" src="src/web-components/app-header.ts"></script>
    <style>
      /* Loading Animation Styling */
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body class="h-screen bg-neutral-50 text-white">
    <auth-wrapper>
      <div id="page-column" class="flex h-full flex-col">
        <app-header></app-header>

        <!-- Video Section -->
        <div class="flex flex-1 items-center justify-center p-6">
          <div class="bg-black bg-opacity-80 shadow-lg rounded-2xl w-full max-w-[1920px] p-4 md:p-24">
            <div class="relative w-full aspect-video rounded-2xl overflow-hidden">
              <!-- Loading Overlay -->
              <div id="loading-overlay" class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-80 z-10">
                <div class="loader w-12 h-12 border-4 border-t-transparent border-blue-300 rounded-full animate-spin"></div>
                <p class="mt-4 text-white text-sm">Loading Video...</p>
              </div>

              <!-- YouTube Video Embed -->
              <iframe id="ytplayer" type="text/html" src="https://bench.cloudblue.org/live/RapidBayLivebyAusOcean?embed&mute&autoplay" frameborder="0" allowfullscreen class="absolute left-0 top-0 h-full w-full object-cover"></iframe>
            </div>

            <!-- Video Description -->
            <p class="mt-4 text-center text-sm text-gray-300">Rapid Bay live via AusOceanTV.</p>
          </div>
        </div>
      </div>
    </auth-wrapper>

    <script>
      // Handle loading animation visibility
      const iframe = document.getElementById("ytplayer");
      const loadingOverlay = document.getElementById("loading-overlay");

      iframe.addEventListener("load", () => {
        loadingOverlay.style.display = "none"; // Hide loading when iframe loads
      });
    </script>
  </body>
</html>
