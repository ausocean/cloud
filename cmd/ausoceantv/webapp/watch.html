<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/src/assets/favicon2.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AusOceanTV | Watch</title>
    <link rel="stylesheet" href="./src/index.css" />
    <script type="module" src="src/web-components/authenticator.ts"></script>
    <script type="module" src="src/web-components/app-header.ts"></script>
    <script type="module" src="src/survey-check.ts"></script>
    <script type="module" src="src/web-components/aotv-footer.ts"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WX123FCR61"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-WX123FCR61");
    </script>
  </head>
  <body class="h-min-screen bg-gradient-to-b from-sky-600 via-blue-900 to-black text-white">
    <auth-wrapper>
      <div id="page-column" class="flex h-full flex-col">
        <app-header></app-header>

        <img src="src/assets/web-bg-1.jpg" alt="Background" class="fixed inset-0 z-[-1] h-full w-full object-cover opacity-30" />

        <!-- Video Section -->
        <div class="flex flex-1 items-center justify-center p-6">
          <div class="w-full max-w-[1920px] rounded-2xl bg-black bg-opacity-80 p-4 shadow-lg md:p-24">
            <div class="relative aspect-video w-full overflow-hidden rounded-2xl">
              <!-- Loading Overlay -->
              <div id="loading-overlay" class="absolute inset-0 z-10 flex flex-col items-center justify-center bg-black bg-opacity-80">
                <div class="loader h-12 w-12 animate-spin rounded-full border-4 border-blue-300 border-t-transparent"></div>
                <p class="mt-4 text-sm text-white">Loading Video...</p>
              </div>

              <!-- YouTube Video Embed -->
              <iframe id="ytplayer" type="text/html" src="https://bench.cloudblue.org/live/RapidBayLivebyAusOcean?embed&mute&autoplay" frameborder="0" allowfullscreen class="absolute left-0 top-0 h-full w-full object-cover"></iframe>
            </div>

            <!-- Video Description -->
            <p class="mt-4 text-center text-sm text-gray-300">Rapid Bay live via AusOceanTV.</p>
          </div>
        </div>
      </div>
      <custom-footer></custom-footer>
    </auth-wrapper>
    <script>
      // Hide loading overlay when iframe loads.
      document.addEventListener("DOMContentLoaded", function () {
        const iframe = document.getElementById("ytplayer");
        const loadingOverlay = document.getElementById("loading-overlay");
        iframe.addEventListener("load", () => {
          loadingOverlay.style.display = "none";
        });
      });
    </script>
  </body>
</html>
