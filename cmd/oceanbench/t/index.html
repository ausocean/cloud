<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="/s/main.css" rel="stylesheet" type="text/css"/>
  <title>Ocean Bench</title>
  <script type="module" src="/s/lit/header-group.js"></script>
  <script type="text/javascript" src="/s/main.js" ></script>
</head>
<body>
  <header-group id="header" class="header">
    <nav-menu id="nav-menu">
      {{range .Pages -}}
        <li data-perm="{{.Perm}}" class="indent-{{ .Level }}">
          <a {{if .URL}}href="{{.URL}}"{{end}}{{if .Selected}} class="selected"{{end}}>{{.Name}}</a>
        </li>
      {{- end}}
    </nav-menu>
    <div class="heading">
        <img src="/s/tiny_logo.png" alt="AusOcean logo"> Ocean Bench v{{.Version}}
    </div>
    <site-menu id="sitemenu" {{if .Profile}}selected-data="{{.Profile.Data}}"{{end}}>
      {{range .Users -}}
        <option style="display: none" slot="{{.PermissionText}}" value="{{.Skey}}"></option>
      {{- end}}
    </site-menu>
    <div class="top-right">
        {{if .Profile}}<a href="{{.LogoutURL}}">Log out</a>{{end}}
    </div>
  </header-group>
  <section id="main" class="main">
    <p>
    Welcome to <em>Ocean Bench</em> by <a href="https://www.ausocean.org">AusOcean</a>.
    </p>
    {{if .Profile}}
      <p>
        You are logged in as {{ .Profile.Email}} and have {{len .Users}} sites.
      </p>
      <p>
        <a href="/admin/site/add">Register a new site</a>
      </p>
    {{else}}
      <div>
        <a href="{{.LoginURL}}" style="text-transform:none">
           <img width="20px" alt="Google logo" src="/s/google.png"/> Login with Google
        </a>
      </div>
    {{end}}
  </section>
  {{.Footer}}
</body>
</html>
